# 日志

## 同步日志
日志写入函数与工作线程串行执行，由于涉及到I/O操作，当单条日志比较大的时候，同步模式会阻塞整个处理流程，服务器所能处理的并发能力将有所下降，尤其是在峰值的时候，写日志可能成为系统的瓶颈。

## 生产者-消费者模型
并发编程中的经典模型。以多线程为例，为了实现线程间数据同步，生产者线程与消费者线程共享一个缓冲区，其中生产者线程往缓冲区中push消息，消费者线程从缓冲区中pop消息。

## 阻塞队列
将生产者-消费者模型进行封装，使用循环数组实现队列，作为两者共享的缓冲区。

## 异步日志
将所写的日志内容先存入阻塞队列，写线程从阻塞队列中取出内容，写入日志。

## 单例模式
最简单也是被问到最多的设计模式之一，保证一个类只创建一个实例，同时提供全局访问的方法。